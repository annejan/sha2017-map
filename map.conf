stylesheet_path  = "./styles"
symbol_path = "./symbols"
plugins = []
extents = [52.292, 5.5405, 52.275, 5.169]
zoom_range = [7, 20]
source_projection = "epsg:28992"

source_file "site_plan" {
  path = "../map/map.dxf"

  auto_import_layers = false
  layers = [
    "meta ... border",
    "terrain ... farmland",
    "terrain ... scrubland",
    "terrain ... woodland",
    "terrain ... dike",
    "terrain ... fields ... campground",
    "terrain ... fields ... labels",
    "terrain ... water ... ditches and ponds ... bank",
    "terrain ... water ... ditches and ponds",
    "terrain ... water ... nuldernauw",
    "terrain ... water ... nuldernauw ... reed",
    "terrain ... parking ... field",
    "terrain ... roads ... gates",
    "terrain ... roads ... main road",
    "terrain ... roads ... paved road",
    "terrain ... roads ... unpaved road",
    "terrain ... roads ... firelanes",
    "terrain ... roads ... road plates",
    "terrain ... roads ... bridges",
    "terrain ... wharf",
    "terrain ... wharf ... mooring posts",
    "terrain ... concrete",
    "terrain ... sand",
    "terrain ... buildings",
    "objects ... tree",
    "infrastructure ... power terminal",
    "infrastructure ... sewer hole",
    "infrastructure ... conduit",
    "meta ... legend"
  ]
  
  # fence?
  # bridge kleur?
  # gates?

#  custom_layer "no_dig" {
#    query = "SELECT st_buffer(wkb_geometry, 5) AS wkb_geometry FROM {table} WHERE layer IN ('infrastructure ... sewer hole', 'infrastructure ... conduit', 'infrastructure ... power terminal')"
#  }

  custom_layer "border_line" {
    query = "SELECT * FROM {table} WHERE layer = 'meta ... border'"
  }
}

raster_layer "Base" {
  stylesheet = "base.mss"
  z-index = 0
}

raster_layer "Trees" {
  stylesheet = "trees.mss"
  z-index = 1
}



vector_layer "Field names" {
  source_layers = [
    "terrain ... fields ... labels"
  ]
  
  layer_style "terrain ... fields ... labels" {
    text-color = "black"
  }
}

vector_layer "Power -- APPROXIMATE" {
  visible = false
  source_layers = [
    "infrastructure ... sketch ... power ... aluminium_4x050",
    "infrastructure ... sketch ... power ... aluminium_4x070",
    "infrastructure ... sketch ... power ... aluminium_4x095",
    "infrastructure ... sketch ... power ... aluminium_4x120",
    "infrastructure ... sketch ... power ... aluminium_4x150",
    "objects ... power terminal"
  ]

  layer_style "infrastructure" {
    layers = [
      "infrastructure ... sketch ... power ... aluminium_4x050",
      "infrastructure ... sketch ... power ... aluminium_4x070",
      "infrastructure ... sketch ... power ... aluminium_4x095",
      "infrastructure ... sketch ... power ... aluminium_4x120",
      "infrastructure ... sketch ... power ... aluminium_4x150"
    ]
    line-color = "red"
    line-width = 3
  }

  layer_style "objects ... power terminal" {
    line-color = "black"
    line-width = 5
    polygon-fill = "orange"
    z-index = 5
  }
}

vector_layer "Water -- APPROXIMATE" {
  visible = false
  source_layers = [
    "infrastructure ... sketch ... water ... pe040",
    "infrastructure ... sketch ... water ... pe063",
    "infrastructure ... sketch ... water ... pe080",
    "infrastructure ... sketch ... water ... pe090",
    "infrastructure ... sketch ... water ... pe110"
  ]

  layer_style "water" {
    layers = [
      "infrastructure ... sketch ... water ... pe040",
      "infrastructure ... sketch ... water ... pe063",
      "infrastructure ... sketch ... water ... pe080",
      "infrastructure ... sketch ... water ... pe090",
      "infrastructure ... sketch ... water ... pe110"
    ]
    line-color = "blue"
    line-width = 3
  }
}

vector_layer "Sewage -- APPROXIMATE" {
  visible = false
  source_layers = [
    "infrastructure ... sketch ... sewage ... pers_pe090mm",
    "infrastructure ... sketch ... sewage ... pers_pe160mm",
    "infrastructure ... sketch ... sewage ... vrijverval_pvc200",
    "infrastructure ... sketch ... sewage ... vrijverval_pvc250",
    "infrastructure ... sketch ... sewage ... vrijverval_pvc315",
    "objects ... sewer hole"
 ]

  layer_style "sewage_1" {
    layers = [
      "infrastructure ... sketch ... sewage ... pers_pe090mm",
      "infrastructure ... sketch ... sewage ... pers_pe160mm"
    ]
    line-color = "lightbrown"
    line-width = 3
  }

  layer_style "sewage_2" {
    layers = [
      "infrastructure ... sketch ... sewage ... vrijverval_pvc200",
      "infrastructure ... sketch ... sewage ... vrijverval_pvc250",
      "infrastructure ... sketch ... sewage ... vrijverval_pvc315"
    ]
    line-color = "brown"
    line-width = 3
  }

  layer_style "objects ... sewer hole" {
    line-color = "brown"
    line-width = 5
    polygon-fill = "brown"
    z-index = 5
  }

}

vector_layer "Tents" {
  source_layers = [
    "tents ... tents",
    "tents ... tents ... labels",
    "objects ... buildings ... container"
  ]

  layer_style "tents ... tents" {
    line-color = "magenta"
    line-width = 2
    z-index = 3
  }
  layer_style "tents ... tents ... labels" {
    text-color = "black"
  }
  layer_style "objects ... buildings ... container" {
    line-color = "red"
    line-width = 2
    z-index = 3
  }
}

vector_layer "Buildings" {
  source_layers = [
    "objects ... buildings",
    "objects ... buildings ... temporary toilet",
    "objects ... buildings ... toilet",
    "objects ... buildings ... utility"
  ]

  layer_style "buildings" {
    layers = [
      "objects ... buildings",
      "objects ... buildings ... temporary toilet",
      "objects ... buildings ... toilet",
      "objects ... buildings ... utility"
    ]
    line-color = "red"
    line-width = 2
#    polygon-fill = "yellow"
    z-index = 3
  }
}

vector_layer "Available from early buildup" {
  visible = false

  source_layers = [
    "meta ... restrictions ... early buildup"
  ]

  layer_style "meta ... restrictions ... early buildup" {
    line-color = "yellow"
    line-width = 3
  }
}

